# Application Name (Common to All Environments)
spring:
  application:
    name: AI_Medical_Triage
  # The active environment (switched using this parameter: dev/test/prod, etc.)
  profiles:
    active: dev
  # General Framework Configuration (Shared by All Environments)
  main:
    allow-circular-references: true
    allow-bean-definition-overriding: true
  # 邮件配置
  mail:
    host: smtp.qq.com  # SMTP服务器地址（QQ邮箱：smtp.qq.com；网易163：smtp.163.com）
    port: 465          # SSL加密端口（非SSL端口25，推荐用465更安全）
    protocol: smtp     # 邮件协议
    properties:
      mail:
        smtp:
          auth: true   # 开启SMTP认证
          ssl:
            enable: true  # 开启SSL加密
            required: true # 强制使用SSL
        debug: false   # 关闭调试模式（生产环境设为false，避免日志打印邮件内容）
  # AI配置
  ai:
    openai:
      api-key: {api key}
      base-url: https://dashscope.aliyuncs.com/compatible-mode
      chat:
        options:
          model: "qwen3-max"                # 默认模型
          temperature: 0.7                  # 生成文本的随机性控制
          max-tokens: 500
  rabbitmq:
    host: { your——server }
    port: 5672
    username: {your_name}
    password: {your_password}
    virtual-host: /ai_medical_triage
    # 其他可选配置
    listener:
      simple:
        concurrency: 5
        max-concurrency: 10

  datasource:
    url: jdbc:mysql://{your_server}/ai_medical_triage?useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&transformedBitIsBoolean=true&allowMultiQueries=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Shanghai
    username: ${ your_name }
    password: ${ your_password}
    driver-class-name: com.mysql.cj.jdbc.Driver

  data:
    redis:
      host: ${your_server}
      port: 6379
      password: ${your_password}

# MyBatis General Configuration (Basic Configuration Shared Across All Environments)
mybatis-plus:
  type-aliases-package: com.dd.ai_medical_triage.entity
  type-handlers-package: com.dd.ai_medical_triage.handler
  configuration:
    map-underscore-to-camel-case: true
    cache-enabled: true

# 自定义邮箱验证码配置
email:
  code:
    expire-seconds: 300  # 验证码有效期：5分钟（与短信验证码一致）
    subject: "【graygoo401】您的邮箱验证码"  # 邮件主题
    template: "email/code-template.html"  # HTML邮件模板路径（放在resources/templates下）

# 日志配置
#logging:
#  level:
#    root: error
#    org.springframework.ai.chat.client: DEBUG
